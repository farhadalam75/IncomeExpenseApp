"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[952],{932:(e,t,r)=>{r.d(t,{BP:()=>i,D_:()=>n,iw:()=>l,x6:()=>s});const a=r(910).A.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});let n=function(e){return e[e.Income=1]="Income",e[e.Expense=2]="Expense",e}({});const s={getAll:e=>a.get("/transactions",{params:e}),getById:e=>a.get("/transactions/".concat(e)),create:e=>a.post("/transactions",e),update:(e,t)=>a.put("/transactions/".concat(e),t),delete:e=>a.delete("/transactions/".concat(e)),getSummary:(e,t)=>a.get("/transactions/summary",{params:{fromDate:e,toDate:t}})},i={getAll:e=>a.get("/categories",{params:{type:e}}),getById:e=>a.get("/categories/".concat(e)),create:e=>a.post("/categories",e),update:(e,t)=>a.put("/categories/".concat(e),t),delete:e=>a.delete("/categories/".concat(e))},l={getAll:()=>a.get("/accounts"),getById:e=>a.get("/accounts/".concat(e)),create:e=>a.post("/accounts",e),update:(e,t)=>a.put("/accounts/".concat(e),t),delete:e=>a.delete("/accounts/".concat(e)),adjustBalance:(e,t)=>a.post("/accounts/".concat(e,"/adjust-balance"),{amount:t}),transfer:e=>a.post("/accounts/transfer",e)}},952:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var a=r(950),n=r(932),s=r(414);const i=e=>{var t,r;let{onNavigate:i}=e;const[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[p,b]=(0,a.useState)(!0),[f,y]=(0,a.useState)(null),[u,j]=(0,a.useState)(!1),[v,S]=(0,a.useState)([]),[w,z]=(0,a.useState)(null),B=(new Date).toISOString().split("T")[0],[N,k]=(0,a.useState)(B),[D,I]=(0,a.useState)(B);(0,a.useEffect)(()=>{C()},[N,D]);const C=async()=>{try{b(!0),y(null);const[e,t,r]=await Promise.all([n.x6.getSummary(N,D),n.x6.getAll({pageSize:10,fromDate:N,toDate:D}),n.iw.getAll()]);o(e.data);const a=t.data,s=a.filter(e=>"Transfer"!==e.category).slice(0,5),i=a.filter(e=>"Transfer"===e.category).slice(0,5);g(s),x(i),S(r.data)}catch(e){y("Failed to load dashboard data"),console.error("Dashboard error:",e)}finally{b(!1)}},T=e=>"\u09f3".concat(e.toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})),A=e=>{try{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"Invalid Date"}};return p?(0,s.jsx)("div",{className:"glass-card",children:(0,s.jsx)("div",{className:"loading",children:"Loading dashboard..."})}):f?(0,s.jsxs)("div",{className:"glass-card",children:[(0,s.jsx)("div",{className:"error",children:f}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:C,children:"Retry"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:{color:"white",marginBottom:"2rem",textAlign:"center",fontSize:"clamp(1.8rem, 4vw, 2.5rem)"},children:"\ud83d\udcca Dashboard"}),(0,s.jsx)("div",{className:"glass-card",style:{marginBottom:"2rem",padding:"1rem"},children:(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"150px"},children:[(0,s.jsx)("label",{style:{color:"white",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"From Date"}),(0,s.jsx)("input",{type:"date",value:N,onChange:e=>k(e.target.value),style:{padding:"0.5rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"0.9rem"}})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"150px"},children:[(0,s.jsx)("label",{style:{color:"white",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"To Date"}),(0,s.jsx)("input",{type:"date",value:D,onChange:e=>I(e.target.value),style:{padding:"0.5rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"0.9rem"}})]}),(0,s.jsx)("button",{onClick:C,style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",cursor:"pointer",fontSize:"0.9rem",marginTop:"auto"},children:"Filter"})]})}),l&&(0,s.jsxs)("div",{className:"dashboard",style:{marginBottom:"2rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:[(0,s.jsxs)("div",{className:"stat-card income",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 163, 74, 0.15))",border:"1px solid rgba(34, 197, 94, 0.3)",padding:"2rem 1rem",textAlign:"center"},children:[(0,s.jsx)("div",{className:"stat-icon",style:{fontSize:"2rem",marginBottom:"1rem",color:"#22c55e"},children:"\ud83d\udcb0"}),(0,s.jsx)("div",{className:"stat-value",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)",fontWeight:"700",color:"#22c55e",marginBottom:"0.5rem"},children:T(l.totalIncome)}),(0,s.jsx)("div",{className:"stat-label",style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:"Total Income"})]}),(0,s.jsxs)("div",{className:"stat-card expense",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15))",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"2rem 1rem",textAlign:"center"},children:[(0,s.jsx)("div",{className:"stat-icon",style:{fontSize:"2rem",marginBottom:"1rem",color:"#ef4444"},children:"\ud83d\udcb8"}),(0,s.jsx)("div",{className:"stat-value",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)",fontWeight:"700",color:"#ef4444",marginBottom:"0.5rem"},children:T(l.totalExpense)}),(0,s.jsx)("div",{className:"stat-label",style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:"Total Expenses"})]}),(0,s.jsxs)("div",{className:"stat-card balance",onClick:()=>j(!u),style:{background:"linear-gradient(135deg, ".concat(l.balance>=0?"rgba(59, 130, 246, 0.15), rgba(37, 99, 235, 0.15)":"rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15)",")"),border:"1px solid ".concat(l.balance>=0?"rgba(59, 130, 246, 0.3)":"rgba(239, 68, 68, 0.3)"),padding:"2rem 1rem",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease"},children:[(0,s.jsx)("div",{className:"stat-icon",style:{fontSize:"2rem",marginBottom:"1rem",color:l.balance>=0?"#3b82f6":"#ef4444"},children:u?"\ufffd\ufe0f":"\ufffd"}),u?(0,s.jsxs)("div",{style:{fontSize:"0.9rem"},children:[v.map(e=>(0,s.jsxs)("div",{style:{marginBottom:"0.8rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("span",{style:{display:"flex",alignItems:"center",color:"rgba(255, 255, 255, 0.9)"},children:[(0,s.jsx)("span",{style:{marginRight:"0.5rem"},children:e.icon}),e.name]}),(0,s.jsx)("span",{style:{color:e.balance>=0?"#4ade80":"#ef4444",fontWeight:"bold"},children:T(e.balance)})]},e.id)),(0,s.jsxs)("div",{style:{borderTop:"1px solid rgba(255, 255, 255, 0.2)",paddingTop:"0.8rem",marginTop:"0.8rem",display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsx)("span",{style:{color:l.balance>=0?"#4ade80":"#ef4444"},children:T(l.balance)})]}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.5rem"},children:"Click to show Cash only"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"stat-value",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)",fontWeight:"700",color:((null===(t=v.find(e=>"Cash"===e.name))||void 0===t?void 0:t.balance)||0)>=0?"#3b82f6":"#ef4444",marginBottom:"0.5rem"},children:T((null===(r=v.find(e=>"Cash"===e.name))||void 0===r?void 0:r.balance)||0)}),(0,s.jsx)("div",{className:"stat-label",style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:"Cash Balance"}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.5rem"},children:"Click to see all accounts"})]})]})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",margin:"2rem 0"},children:[(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("add-transaction"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(34, 197, 94, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\u2795"}),(0,s.jsx)("h3",{style:{color:"#4ade80",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"Add Transaction"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Record income or expense"})]}),(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("transfer"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(249, 115, 22, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\ud83d\udd04"}),(0,s.jsx)("h3",{style:{color:"#fb923c",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"Transfer Money"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Move between accounts"})]}),(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("transactions"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(59, 130, 246, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\ud83d\udcca"}),(0,s.jsx)("h3",{style:{color:"#60a5fa",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"View Transactions"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Browse and filter"})]}),(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("categories"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(168, 85, 247, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\u2699\ufe0f"}),(0,s.jsx)("h3",{style:{color:"#a855f7",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"Manage Categories"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Add or edit categories"})]})]}),l&&(0,s.jsxs)("div",{className:"glass-card",style:{marginTop:"2rem"},children:[(0,s.jsx)("h2",{style:{color:"white",marginBottom:"1.5rem"},children:"Financial Overview"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{color:"white",marginBottom:"1rem",fontSize:"1.1rem"},children:"Income vs Expenses"}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"end",height:"200px",gap:"1rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)"},children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[(0,s.jsx)("div",{style:{width:"60px",height:"".concat(Math.max(l.totalIncome/Math.max(l.totalIncome,l.totalExpense,1)*150,10),"px"),background:"linear-gradient(180deg, #4ade80, #22c55e)",borderRadius:"4px 4px 0 0",marginBottom:"0.5rem",transition:"height 0.3s ease"}}),(0,s.jsx)("div",{style:{color:"#4ade80",fontSize:"0.9rem",fontWeight:"bold"},children:T(l.totalIncome)}),(0,s.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:"Income"})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flex:1},children:[(0,s.jsx)("div",{style:{width:"60px",height:"".concat(Math.max(l.totalExpense/Math.max(l.totalIncome,l.totalExpense,1)*150,10),"px"),background:"linear-gradient(180deg, #fbbf24, #f59e0b)",borderRadius:"4px 4px 0 0",marginBottom:"0.5rem",transition:"height 0.3s ease"}}),(0,s.jsx)("div",{style:{color:"#fbbf24",fontSize:"0.9rem",fontWeight:"bold"},children:T(l.totalExpense)}),(0,s.jsx)("div",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.8rem"},children:"Expenses"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{style:{color:"white",marginBottom:"1rem",fontSize:"1.1rem"},children:"Account Balances"}),(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem",padding:"1rem",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)"},children:v.map((e,t)=>{const r=v.reduce((e,t)=>e+t.balance,1),a=Math.max(e.balance/r*100,0),n=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],i=n[t%n.length];return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[(0,s.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:i,borderRadius:"2px"}}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.2rem"},children:[(0,s.jsxs)("span",{style:{color:"white",fontSize:"0.9rem"},children:[e.icon," ",e.name]}),(0,s.jsx)("span",{style:{color:i,fontSize:"0.9rem",fontWeight:"bold"},children:T(e.balance)})]}),(0,s.jsx)("div",{style:{width:"100%",height:"6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"3px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{width:"".concat(a,"%"),height:"100%",backgroundColor:i,borderRadius:"3px",transition:"width 0.3s ease"}})})]})]},e.id)})})]})]})]}),(0,s.jsxs)("div",{className:"glass-card",style:{marginTop:"2rem"},children:[(0,s.jsx)("h2",{style:{color:"white",marginBottom:"1.5rem"},children:"Recent Transactions"}),m.length>0?(0,s.jsx)("div",{className:"table-container",children:(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Amount"})]})}),(0,s.jsx)("tbody",{children:m.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:A(e.date)}),(0,s.jsx)("td",{children:e.description}),(0,s.jsx)("td",{children:e.category}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{style:{color:e.type===n.D_.Income?"#4ade80":"#fbbf24",fontWeight:"bold"},children:e.type===n.D_.Income?"Income":"Expense"})}),(0,s.jsxs)("td",{style:{color:e.type===n.D_.Income?"#4ade80":"#fbbf24",fontWeight:"bold"},children:[e.type===n.D_.Income?"+":"-",T(Math.abs(e.amount))]})]},e.id))})]})}):(0,s.jsx)("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No transactions found. Start by adding your first transaction!"})]}),(0,s.jsxs)("div",{className:"glass-card",style:{marginTop:"2rem"},children:[(0,s.jsx)("h2",{style:{color:"white",marginBottom:"1.5rem"},children:"\ud83d\udcb8 Recent Transfers"}),h.length>0?(0,s.jsx)("div",{className:"table-container",children:(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"From/To Account"}),(0,s.jsx)("th",{children:"Amount"})]})}),(0,s.jsx)("tbody",{children:h.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:A(e.date)}),(0,s.jsx)("td",{children:e.description}),(0,s.jsx)("td",{children:(0,s.jsxs)("span",{style:{color:"#8b5cf6",fontWeight:"bold"},children:[e.accountIcon," ",e.accountName]})}),(0,s.jsxs)("td",{style:{color:"#8b5cf6",fontWeight:"bold"},children:["\u2194\ufe0f ",T(Math.abs(e.amount))]})]},e.id))})]})}):(0,s.jsx)("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No recent transfers found. Use the Transfer Money feature to move funds between accounts!"})]})]})}}}]);
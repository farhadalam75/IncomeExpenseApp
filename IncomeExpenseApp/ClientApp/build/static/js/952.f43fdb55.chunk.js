"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[952],{932:(e,t,a)=>{a.d(t,{BP:()=>i,D_:()=>n,iw:()=>o,x6:()=>s});const r=a(910).A.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});let n=function(e){return e[e.Income=1]="Income",e[e.Expense=2]="Expense",e}({});const s={getAll:e=>r.get("/transactions",{params:e}),getById:e=>r.get("/transactions/".concat(e)),create:e=>r.post("/transactions",e),update:(e,t)=>r.put("/transactions/".concat(e),t),delete:e=>r.delete("/transactions/".concat(e)),getSummary:(e,t)=>r.get("/transactions/summary",{params:{fromDate:e,toDate:t}})},i={getAll:e=>r.get("/categories",{params:{type:e}}),getById:e=>r.get("/categories/".concat(e)),create:e=>r.post("/categories",e),update:(e,t)=>r.put("/categories/".concat(e),t),delete:e=>r.delete("/categories/".concat(e))},o={getAll:()=>r.get("/accounts"),getById:e=>r.get("/accounts/".concat(e)),create:e=>r.post("/accounts",e),update:(e,t)=>r.put("/accounts/".concat(e),t),delete:e=>r.delete("/accounts/".concat(e)),adjustBalance:(e,t)=>r.post("/accounts/".concat(e,"/adjust-balance"),{amount:t}),transfer:e=>r.post("/accounts/transfer",e)}},952:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var r=a(950),n=a(932),s=a(414);const i=e=>{var t,a;let{onNavigate:i}=e;const[o,l]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[h,x]=(0,r.useState)(!0),[p,b]=(0,r.useState)(null),[u,y]=(0,r.useState)(!1),[f,j]=(0,r.useState)([]),[v,S]=(0,r.useState)(null),z=(new Date).toISOString().split("T")[0],[N,B]=(0,r.useState)(z),[w,k]=(0,r.useState)(z);(0,r.useEffect)(()=>{C()},[N,w]);const C=async()=>{try{x(!0),b(null);const[e,t,a]=await Promise.all([n.x6.getSummary(N,w),n.x6.getAll({pageSize:5,fromDate:N,toDate:w}),n.iw.getAll()]);l(e.data),g(t.data),j(a.data)}catch(e){b("Failed to load dashboard data"),console.error("Dashboard error:",e)}finally{x(!1)}},D=e=>"\u09f3".concat(e.toLocaleString("en-BD",{minimumFractionDigits:2,maximumFractionDigits:2})),T=e=>{try{if(!e)return"N/A";const t=new Date(e);return isNaN(t.getTime())?"Invalid Date":t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(t){return"Invalid Date"}};return h?(0,s.jsx)("div",{className:"glass-card",children:(0,s.jsx)("div",{className:"loading",children:"Loading dashboard..."})}):p?(0,s.jsxs)("div",{className:"glass-card",children:[(0,s.jsx)("div",{className:"error",children:p}),(0,s.jsx)("button",{className:"btn btn-primary",onClick:C,children:"Retry"})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{style:{color:"white",marginBottom:"2rem",textAlign:"center",fontSize:"clamp(1.8rem, 4vw, 2.5rem)"},children:"\ud83d\udcca Income Expense Tracker"}),(0,s.jsx)("div",{className:"glass-card",style:{marginBottom:"2rem",padding:"1rem"},children:(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center",flexWrap:"wrap"},children:[(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"150px"},children:[(0,s.jsx)("label",{style:{color:"white",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"From Date"}),(0,s.jsx)("input",{type:"date",value:N,onChange:e=>B(e.target.value),style:{padding:"0.5rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"0.9rem"}})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",minWidth:"150px"},children:[(0,s.jsx)("label",{style:{color:"white",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"To Date"}),(0,s.jsx)("input",{type:"date",value:w,onChange:e=>k(e.target.value),style:{padding:"0.5rem",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.2)",background:"rgba(255, 255, 255, 0.1)",color:"white",fontSize:"0.9rem"}})]}),(0,s.jsx)("button",{onClick:C,style:{padding:"0.5rem 1rem",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",cursor:"pointer",fontSize:"0.9rem",marginTop:"auto"},children:"Filter"})]})}),o&&(0,s.jsxs)("div",{className:"dashboard",style:{marginBottom:"2rem",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1rem"},children:[(0,s.jsxs)("div",{className:"stat-card income",style:{background:"linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 163, 74, 0.15))",border:"1px solid rgba(34, 197, 94, 0.3)",padding:"2rem 1rem",textAlign:"center"},children:[(0,s.jsx)("div",{className:"stat-icon",style:{fontSize:"2rem",marginBottom:"1rem",color:"#22c55e"},children:"\ud83d\udcb0"}),(0,s.jsx)("div",{className:"stat-value",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)",fontWeight:"700",color:"#22c55e",marginBottom:"0.5rem"},children:D(o.totalIncome)}),(0,s.jsx)("div",{className:"stat-label",style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:"Total Income"})]}),(0,s.jsxs)("div",{className:"stat-card expense",style:{background:"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15))",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"2rem 1rem",textAlign:"center"},children:[(0,s.jsx)("div",{className:"stat-icon",style:{fontSize:"2rem",marginBottom:"1rem",color:"#ef4444"},children:"\ud83d\udcb8"}),(0,s.jsx)("div",{className:"stat-value",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)",fontWeight:"700",color:"#ef4444",marginBottom:"0.5rem"},children:D(o.totalExpense)}),(0,s.jsx)("div",{className:"stat-label",style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:"Total Expenses"})]}),(0,s.jsxs)("div",{className:"stat-card balance",onClick:()=>y(!u),style:{background:"linear-gradient(135deg, ".concat(o.balance>=0?"rgba(59, 130, 246, 0.15), rgba(37, 99, 235, 0.15)":"rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15)",")"),border:"1px solid ".concat(o.balance>=0?"rgba(59, 130, 246, 0.3)":"rgba(239, 68, 68, 0.3)"),padding:"2rem 1rem",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease"},children:[(0,s.jsx)("div",{className:"stat-icon",style:{fontSize:"2rem",marginBottom:"1rem",color:o.balance>=0?"#3b82f6":"#ef4444"},children:u?"\ufffd\ufe0f":"\ufffd"}),u?(0,s.jsxs)("div",{style:{fontSize:"0.9rem"},children:[f.map(e=>(0,s.jsxs)("div",{style:{marginBottom:"0.8rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("span",{style:{display:"flex",alignItems:"center",color:"rgba(255, 255, 255, 0.9)"},children:[(0,s.jsx)("span",{style:{marginRight:"0.5rem"},children:e.icon}),e.name]}),(0,s.jsx)("span",{style:{color:e.balance>=0?"#4ade80":"#ef4444",fontWeight:"bold"},children:D(e.balance)})]},e.id)),(0,s.jsxs)("div",{style:{borderTop:"1px solid rgba(255, 255, 255, 0.2)",paddingTop:"0.8rem",marginTop:"0.8rem",display:"flex",justifyContent:"space-between",fontWeight:"bold"},children:[(0,s.jsx)("span",{children:"Total:"}),(0,s.jsx)("span",{style:{color:o.balance>=0?"#4ade80":"#ef4444"},children:D(o.balance)})]}),(0,s.jsx)("div",{style:{fontSize:"0.7rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.5rem"},children:"Click to show Cash only"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"stat-value",style:{fontSize:"clamp(1.5rem, 4vw, 2.5rem)",fontWeight:"700",color:((null===(t=f.find(e=>"Cash"===e.name))||void 0===t?void 0:t.balance)||0)>=0?"#3b82f6":"#ef4444",marginBottom:"0.5rem"},children:D((null===(a=f.find(e=>"Cash"===e.name))||void 0===a?void 0:a.balance)||0)}),(0,s.jsx)("div",{className:"stat-label",style:{fontSize:"1rem",color:"rgba(255, 255, 255, 0.9)",fontWeight:"500"},children:"Cash Balance"}),(0,s.jsx)("div",{style:{fontSize:"0.8rem",color:"rgba(255, 255, 255, 0.6)",marginTop:"0.5rem"},children:"Click to see all accounts"})]})]})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",margin:"2rem 0"},children:[(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("add-transaction"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(34, 197, 94, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\u2795"}),(0,s.jsx)("h3",{style:{color:"#4ade80",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"Add Transaction"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Record income or expense"})]}),(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("transfer"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(249, 115, 22, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\ud83d\udd04"}),(0,s.jsx)("h3",{style:{color:"#fb923c",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"Transfer Money"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Move between accounts"})]}),(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("transactions"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(59, 130, 246, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\ud83d\udcca"}),(0,s.jsx)("h3",{style:{color:"#60a5fa",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"View Transactions"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Browse and filter"})]}),(0,s.jsxs)("div",{className:"glass-card quick-action-card",onClick:()=>i("categories"),style:{cursor:"pointer",padding:"1.2rem",textAlign:"center",transition:"all 0.3s ease",border:"2px solid rgba(168, 85, 247, 0.2)"},children:[(0,s.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.8rem"},children:"\u2699\ufe0f"}),(0,s.jsx)("h3",{style:{color:"#a855f7",marginBottom:"0.4rem",fontSize:"1.1rem"},children:"Manage Categories"}),(0,s.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.7)",fontSize:"0.85rem"},children:"Add or edit categories"})]})]}),(0,s.jsxs)("div",{className:"glass-card",style:{marginTop:"2rem"},children:[(0,s.jsx)("h2",{style:{color:"white",marginBottom:"1.5rem"},children:"Recent Transactions"}),m.length>0?(0,s.jsx)("div",{className:"table-container",children:(0,s.jsxs)("table",{className:"table",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Date"}),(0,s.jsx)("th",{children:"Description"}),(0,s.jsx)("th",{children:"Category"}),(0,s.jsx)("th",{children:"Type"}),(0,s.jsx)("th",{children:"Amount"})]})}),(0,s.jsx)("tbody",{children:m.map(e=>{const t="Transfer"===e.category;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:T(e.date)}),(0,s.jsx)("td",{children:e.description}),(0,s.jsxs)("td",{children:[t&&(0,s.jsx)("span",{style:{marginRight:"0.5rem"},children:"\u2194\ufe0f"}),e.category]}),(0,s.jsx)("td",{children:(0,s.jsx)("span",{style:{color:t?"#8b5cf6":e.type===n.D_.Income?"#4ade80":"#fbbf24",fontWeight:"bold"},children:t?"Transfer":e.type===n.D_.Income?"Income":"Expense"})}),(0,s.jsxs)("td",{style:{color:t?"#8b5cf6":e.type===n.D_.Income?"#4ade80":"#fbbf24",fontWeight:"bold"},children:[t?"\u2194\ufe0f":e.type===n.D_.Income?"+":"-",D(Math.abs(e.amount))]})]},e.id)})})]})}):(0,s.jsx)("div",{style:{textAlign:"center",color:"rgba(255, 255, 255, 0.7)",padding:"2rem"},children:"No transactions found. Start by adding your first transaction!"})]})]})}}}]);